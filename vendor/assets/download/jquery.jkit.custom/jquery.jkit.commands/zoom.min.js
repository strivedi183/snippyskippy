
// jQuery Plugin: jKit
// A very easy to use, cross platform jQuery UI toolkit that's still small in size, has the features you need and doesn't get in your way.
// Version 1.2.1 - 31. Mar. 2013
// http://jquery-jkit.com/
//
// by Fredi Bach
// http://fredibach.ch/jquery-plugins/

plugin.commands.zoom=function(){var a={};return plugin.addCommandDefaults("zoom",{scale:2,speed:150,lightbox:"no"}),a.execute=function(a,b){var c=plugin.settings,d="zoom";a.parent().css("position","relative"),a.on("mouseover",function(){var e=a.position(),f=a.height(),g=a.width();$zoom=$("<div/>",{"class":c.prefix+"-"+d+"-overlay"}).css({position:"absolute",height:f+"px",width:g+"px",left:e.left+"px",top:e.top+"px",overflow:"hidden","background-image":"url("+a.attr("src")+")","background-repeat":"no-repeat","background-color":"#000",opacity:0}).on("mouseout",function(){$zoom.fadeTo(b.speed,0,function(){$zoom.remove(),plugin.triggerEvent("zoomout",a,b)})}).mousemove(function(a){var c=$(this).offset(),d=(a.pageX-c.left)*(b.scale-1),e=(a.pageY-c.top)*(b.scale-1);$zoom.css("background-position","-"+d+"px -"+e+"px")}).fadeTo(b.speed,1,function(){plugin.triggerEvent("zoomin",a,b)}).insertAfter(a),"yes"==b.lightbox&&plugin.executeCommand($zoom,"lightbox",{})})},a}();
